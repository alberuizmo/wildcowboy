(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9a8f19e"],{"2e7b":function(t,a,e){"use strict";e.d(a,"a",(function(){return s}));var i=e("d4ec"),n=e("bee2"),r=e("bc3a"),o=e.n(r),s=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,[{key:"getAllPartos",value:function(t){return o.a.post("https://veterinariaapi.herokuapp.com/api/partos/all/",t)}},{key:"createParto",value:function(t){return o.a.post("https://veterinariaapi.herokuapp.com/api/partos/",t)}},{key:"editParto",value:function(t){return o.a.put("https://veterinariaapi.herokuapp.com/api/partos/",t)}},{key:"getPartoById",value:function(t){return o.a.get("https://veterinariaapi.herokuapp.com/api/partos/"+t)}},{key:"deleteParto",value:function(t){return o.a.delete("https://veterinariaapi.herokuapp.com/api/partos/"+t)}}]),t}()},3597:function(t,a,e){"use strict";e.d(a,"a",(function(){return s}));var i=e("d4ec"),n=e("bee2"),r=e("bc3a"),o=e.n(r),s=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,[{key:"getAllAnimales",value:function(t){return o.a.post("https://veterinariaapi.herokuapp.com/api/animales/all/",t)}},{key:"createAnimal",value:function(t){return o.a.post("https://veterinariaapi.herokuapp.com/api/animales/",t)}},{key:"editAnimal",value:function(t){return o.a.put("https://veterinariaapi.herokuapp.com/api/animales/",t)}},{key:"getAnimalById",value:function(t){return o.a.get("https://veterinariaapi.herokuapp.com/api/animales/"+t)}},{key:"deleteAnimal",value:function(t){return o.a.delete("https://veterinariaapi.herokuapp.com/api/animales/"+t)}}]),t}()},9123:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-row",[e("v-col",{staticClass:"text-h5",attrs:{cols:"12"}},[t._v(" Registro de partos "),e("hr")]),e("v-col",{attrs:{cols:"12"}},[e("v-row",{staticClass:"pl-3"},[e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-autocomplete",{attrs:{items:t.animales.filter((function(t){return 0==t.sexo})),filter:t.customFilter,label:"Animal","item-value":"id"},scopedSlots:t._u([{key:"item",fn:function(a){var e=a.item;return[t._v(t._s(e.identificacion)+" - "+t._s(e.nombre))]}},{key:"selection",fn:function(a){var e=a.item;return[t._v(t._s(e.identificacion)+" - "+t._s(e.nombre))]}}]),model:{value:t.partoData.animal_id,callback:function(a){t.$set(t.partoData,"animal_id",a)},expression:"partoData.animal_id"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{type:"number",label:"Crias",hint:"Cantidad de crias","persistent-hint":"",min:"1"},model:{value:t.partoData.hijos,callback:function(a){t.$set(t.partoData,"hijos",a)},expression:"partoData.hijos"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on,n=a.attrs;return[e("v-text-field",t._g(t._b({attrs:{label:"Fecha","prepend-icon":"event",readonly:"",hint:"Seleccione la fecha","persistent-hint":""},model:{value:t.partoData.fecha,callback:function(a){t.$set(t.partoData,"fecha",a)},expression:"partoData.fecha"}},"v-text-field",n,!1),i))]}}]),model:{value:t.menu,callback:function(a){t.menu=a},expression:"menu"}},[e("v-date-picker",{attrs:{max:t.maxDate,"no-title":""},on:{input:function(a){t.menu=!1}},model:{value:t.partoData.fecha,callback:function(a){t.$set(t.partoData,"fecha",a)},expression:"partoData.fecha"}})],1)],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[e("v-text-field",{attrs:{label:"Observaciones",hint:"Escribe tus observaciones","persistent-hint":""},model:{value:t.partoData.observaciones,callback:function(a){t.$set(t.partoData,"observaciones",a)},expression:"partoData.observaciones"}})],1)],1)],1),e("v-col",{attrs:{cols:"12"}},[e("v-btn",{staticClass:"ml-3",attrs:{color:"primary",dark:""},on:{click:function(a){return t.guardar()}}},[t._v("Guardar")]),e("v-btn",{staticClass:"ml-3",attrs:{color:"error",dark:""},on:{click:function(a){return t.$router.push({name:"PartosList"})}}},[t._v("Cancelar")])],1)],1)},n=[],r=(e("c975"),e("fb6a"),e("96cf"),e("1da1")),o=e("5530"),s=e("2f62"),c=e("3597"),u=e("2e7b"),l={name:"partos-create",data:function(){return{maxDate:(new Date).toISOString().slice(0,10),animalesService:null,partosService:null,type:"create",partoData:{id:0,animal_id:"",hijos:1,fecha:null,observaciones:"",finca_id:null,usuario_id:null},menu:!1,animales:[]}},created:function(){this.animalesService=new c["a"],this.partosService=new u["a"]},mounted:function(){var t=this;this.obtenerAnimales(),this.$route.params.id?(this.type="edit",this.partosService.getPartoById(this.$route.params.id).then((function(a){t.partoData=a.data.data,t.partoData["id"]=t.$route.params.id,t.partoData["finca_id"]=t.getFinca.id,t.partoData["usuario_id"]=t.getUsuario.id,t.partoData["token"]=t.getToken})).catch((function(t){console.log(t)}))):(this.partoData["finca_id"]=this.getFinca.id,this.partoData["usuario_id"]=this.getUsuario.id,this.partoData["token"]=this.getToken)},methods:Object(o["a"])(Object(o["a"])({},Object(s["c"])([])),{},{obtenerAnimales:function(){var t=this,a={finca_id:this.getFinca.id,usuario_id:this.getUsuario.id,token:this.getToken};this.animalesService.getAllAnimales(a).then((function(a){t.animales=a.data.data})).catch((function(){}))},guardar:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=null,"create"!=t.type){a.next=6;break}return a.next=4,t.partosService.createParto(t.partoData).then((function(){e={text:"Registro guardado exitosamente",snackbar:!0,color:"success"},t.$emit("mostrarMensaje",e),t.$router.push({name:"PartosList"})})).catch((function(t){console.log(t)}));case 4:a.next=7;break;case 6:e={text:"Registro editado exitosamente",snackbar:!0,color:"success"};case 7:case"end":return a.stop()}}),a)})))()},customFilter:function(t,a){var e=t.nombre.toLowerCase(),i=t.identificacion.toLowerCase(),n=a.toLowerCase();return e.indexOf(n)>-1||i.indexOf(n)>-1}}),computed:Object(o["a"])({},Object(s["b"])(["getFinca","getUsuario","getToken"]))},p=l,d=e("2877"),m=e("6544"),f=e.n(m),h=e("c6a6"),v=e("8336"),b=e("62ad"),k=e("2e4b"),g=e("e449"),D=e("0fd9"),x=e("8654"),_=Object(d["a"])(p,i,n,!1,null,"3b741dc7",null);a["default"]=_.exports;f()(_,{VAutocomplete:h["a"],VBtn:v["a"],VCol:b["a"],VDatePicker:k["a"],VMenu:g["a"],VRow:D["a"],VTextField:x["a"]})}}]);
//# sourceMappingURL=chunk-d9a8f19e.924d372a.js.map