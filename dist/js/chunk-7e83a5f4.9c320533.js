(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e83a5f4"],{3597:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t("d4ec"),i=t("bee2"),r=t("bc3a"),o=t.n(r),c=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"getAllAnimales",value:function(e){return o.a.post("https://veterinariaapi.herokuapp.com/api/animales/all/",e)}},{key:"createAnimal",value:function(e){return o.a.post("https://veterinariaapi.herokuapp.com/api/animales/",e)}},{key:"editAnimal",value:function(e){return o.a.put("https://veterinariaapi.herokuapp.com/api/animales/",e)}},{key:"getAnimalById",value:function(e){return o.a.get("https://veterinariaapi.herokuapp.com/api/animales/"+e)}},{key:"deleteAnimal",value:function(e){return o.a.delete("https://veterinariaapi.herokuapp.com/api/animales/"+e)}}]),e}()},"853c":function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t("d4ec"),i=t("bee2"),r=t("bc3a"),o=t.n(r),c=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"getAllCalores",value:function(e){return o.a.post("https://veterinariaapi.herokuapp.com/api/calores/all/",e)}},{key:"createCalor",value:function(e){return o.a.post("https://veterinariaapi.herokuapp.com/api/calores/",e)}},{key:"editCalor",value:function(e){return o.a.put("https://veterinariaapi.herokuapp.com/api/calores/",e)}},{key:"getCalorById",value:function(e){return o.a.get("https://veterinariaapi.herokuapp.com/api/calores/"+e)}},{key:"deleteCalor",value:function(e){return o.a.delete("https://veterinariaapi.herokuapp.com/api/calores/"+e)}}]),e}()},f5f4:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-row",[t("v-col",{staticClass:"text-h5",attrs:{cols:"12"}},[e._v(" Registro de calores "),t("hr")]),t("v-col",{attrs:{cols:"12"}},[t("v-row",{staticClass:"pl-3"},[t("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[t("v-autocomplete",{attrs:{items:e.animales.filter((function(e){return 0==e.sexo})),filter:e.customFilter,label:"Animal en calor","item-value":"id"},scopedSlots:e._u([{key:"item",fn:function(a){var t=a.item;return[e._v(e._s(t.identificacion)+" - "+e._s(t.nombre))]}},{key:"selection",fn:function(a){var t=a.item;return[e._v(e._s(t.identificacion)+" - "+e._s(t.nombre))]}}]),model:{value:e.calorData.animal_id,callback:function(a){e.$set(e.calorData,"animal_id",a)},expression:"calorData.animal_id"}})],1),t("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[t("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(a){var n=a.on,i=a.attrs;return[t("v-text-field",e._g(e._b({attrs:{label:"Fecha","prepend-icon":"event",readonly:"",hint:"Seleccione la fecha","persistent-hint":""},model:{value:e.calorData.fecha,callback:function(a){e.$set(e.calorData,"fecha",a)},expression:"calorData.fecha"}},"v-text-field",i,!1),n))]}}]),model:{value:e.menu,callback:function(a){e.menu=a},expression:"menu"}},[t("v-date-picker",{attrs:{max:e.maxDate,"no-title":""},on:{input:function(a){e.menu=!1}},model:{value:e.calorData.fecha,callback:function(a){e.$set(e.calorData,"fecha",a)},expression:"calorData.fecha"}})],1)],1),t("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[t("v-text-field",{attrs:{label:"Observaciones",hint:"Escribe tus observaciones","persistent-hint":""},model:{value:e.calorData.observaciones,callback:function(a){e.$set(e.calorData,"observaciones",a)},expression:"calorData.observaciones"}})],1)],1)],1),t("v-col",{attrs:{cols:"12"}},[t("v-btn",{staticClass:"ml-3",attrs:{color:"primary",dark:""},on:{click:function(a){return e.guardar()}}},[e._v("Guardar")]),t("v-btn",{staticClass:"ml-3",attrs:{color:"error",dark:""},on:{click:function(a){return e.$router.push({name:"CaloresList"})}}},[e._v("Cancelar")])],1)],1)},i=[],r=(t("c975"),t("fb6a"),t("96cf"),t("1da1")),o=t("5530"),c=t("2f62"),s=t("3597"),l=t("853c"),u={name:"calores-create",data:function(){return{maxDate:(new Date).toISOString().slice(0,10),animalesService:null,caloresService:null,type:"create",calorData:{id:0,animal_id:"",fecha:null,observaciones:"",finca_id:null,usuario_id:null},menu:!1,animales:[]}},created:function(){this.animalesService=new s["a"],this.caloresService=new l["a"]},mounted:function(){var e=this;this.obtenerAnimales(),this.$route.params.id?(this.type="edit",this.caloresService.getCalorById(this.$route.params.id).then((function(a){e.calorData=a.data.data,e.calorData["id"]=e.$route.params.id,e.calorData["finca_id"]=e.getFinca.id,e.calorData["usuario_id"]=e.getUsuario.id,e.calorData["token"]=e.getToken})).catch((function(e){console.log(e)}))):(this.calorData["finca_id"]=this.getFinca.id,this.calorData["usuario_id"]=this.getUsuario.id,this.calorData["token"]=this.getToken)},methods:Object(o["a"])(Object(o["a"])({},Object(c["c"])([])),{},{obtenerAnimales:function(){var e=this,a={finca_id:this.getFinca.id,usuario_id:this.getUsuario.id,token:this.getToken};this.animalesService.getAllAnimales(a).then((function(a){e.animales=a.data.data})).catch((function(){}))},guardar:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t=null,"create"!=e.type){a.next=6;break}return a.next=4,e.caloresService.createCalor(e.calorData).then((function(){t={text:"Registro guardado exitosamente",snackbar:!0,color:"success"},e.$emit("mostrarMensaje",t),e.$router.push({name:"CaloresList"})})).catch((function(e){console.log(e)}));case 4:a.next=7;break;case 6:t={text:"Registro editado exitosamente",snackbar:!0,color:"success"};case 7:case"end":return a.stop()}}),a)})))()},customFilter:function(e,a){var t=e.nombre.toLowerCase(),n=e.identificacion.toLowerCase(),i=a.toLowerCase();return t.indexOf(i)>-1||n.indexOf(i)>-1}}),computed:Object(o["a"])({},Object(c["b"])(["getFinca","getUsuario","getToken"]))},p=u,d=t("2877"),m=t("6544"),f=t.n(m),v=t("c6a6"),h=t("8336"),k=t("62ad"),b=t("2e4b"),g=t("e449"),_=t("0fd9"),x=t("8654"),D=Object(d["a"])(p,n,i,!1,null,"54b1178e",null);a["default"]=D.exports;f()(D,{VAutocomplete:v["a"],VBtn:h["a"],VCol:k["a"],VDatePicker:b["a"],VMenu:g["a"],VRow:_["a"],VTextField:x["a"]})}}]);
//# sourceMappingURL=chunk-7e83a5f4.9c320533.js.map