{"version":3,"sources":["webpack:///./src/services/roles.service.js","webpack:///./src/components/usuarios/usuarios-create.vue?c612","webpack:///src/components/usuarios/usuarios-create.vue","webpack:///./src/components/usuarios/usuarios-create.vue?735a","webpack:///./src/components/usuarios/usuarios-create.vue","webpack:///./src/mixins/helpers.js"],"names":["RolesService","data","axios","post","process","put","id","get","delete","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","model","value","callback","$$v","validUser","expression","v","usuario","$set","roles","rol","on","$event","guardar","$router","push","name","staticRenderFns","mixins","usersService","rolesService","type","permisos","finca_id","usuario_id","permisoSelected","identificacion","username","nombre","apellidos","telefono","email","password","nombreRules","direccionRules","created","mounted","$route","params","getFinca","getUsuario","recuperarDataUser","recuperarRoles","methods","token","getToken","computed","component","VBtn","VCol","VForm","VRow","VSelect","VTextField","Helpers","tienePermiso","idPermiso","store","getters","getPermisosDetallados","find","item","colorAleatorio","hexadecimal","Array","color_aleatorio","i","numPosibilidades","length","aleat","Math","random","floor","posarray","parseInt","generarToken","toString","substring"],"mappings":"qMACqBA,E,0GACPC,GACV,OAAOC,IAAMC,KAAKC,sDAA+CH,K,gCAEzDA,GACR,OAAOC,IAAMC,KAAKC,yDAAkDH,K,uCAErDA,GACf,OAAOC,IAAMC,KAAKC,2DAAoDH,K,8BAEhEA,GACN,OAAOC,IAAMG,IAAID,kDAA2CH,K,iCAEnDK,GACT,OAAOJ,IAAMK,IAAIH,kDAA4CE,K,gCAErDA,GACR,OAAOJ,IAAMM,OAAOJ,kDAA4CE,K,uCAGhE,OAAOJ,IAAMK,IAAIH,0D,iDCrBrB,IAAIK,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,OAAO,CAACP,EAAIQ,GAAG,0BAA0BJ,EAAG,QAAQA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,SAAS,CAACK,IAAI,WAAWF,MAAM,CAAC,kBAAkB,IAAIG,MAAM,CAACC,MAAOX,EAAa,UAAEY,SAAS,SAAUC,GAAMb,EAAIc,UAAUD,GAAKE,WAAW,cAAc,CAACX,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,CAAC,SAAUS,GAAK,QAASA,GAAK,mCAAqC,UAAY,KAAK,MAAQ,iBAAiB,SAAW,GAAG,MAAQ,GAAG,eAAe,IAAIN,MAAM,CAACC,MAAOX,EAAIiB,QAAsB,eAAEL,SAAS,SAAUC,GAAMb,EAAIkB,KAAKlB,EAAIiB,QAAS,iBAAkBJ,IAAME,WAAW,6BAA6B,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,CAAC,SAAUS,GAAK,QAASA,GAAK,6BAA+B,UAAY,KAAK,MAAQ,WAAW,SAAW,GAAG,MAAQ,GAAG,eAAe,IAAIN,MAAM,CAACC,MAAOX,EAAIiB,QAAgB,SAAEL,SAAS,SAAUC,GAAMb,EAAIkB,KAAKlB,EAAIiB,QAAS,WAAYJ,IAAME,WAAW,uBAAuB,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,CAAC,SAAUS,GAAK,QAASA,GAAK,sCAAwC,UAAY,KAAK,MAAQ,SAAS,SAAW,GAAG,MAAQ,GAAG,eAAe,IAAIN,MAAM,CAACC,MAAOX,EAAIiB,QAAc,OAAEL,SAAS,SAAUC,GAAMb,EAAIkB,KAAKlB,EAAIiB,QAAS,SAAUJ,IAAME,WAAW,qBAAqB,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,CAAC,SAAUS,GAAK,QAASA,GAAK,gCAAkC,UAAY,KAAK,MAAQ,YAAY,SAAW,GAAG,MAAQ,GAAG,eAAe,IAAIN,MAAM,CAACC,MAAOX,EAAIiB,QAAiB,UAAEL,SAAS,SAAUC,GAAMb,EAAIkB,KAAKlB,EAAIiB,QAAS,YAAaJ,IAAME,WAAW,wBAAwB,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,CAAC,SAAUS,GAAK,QAASA,GAAK,6BAA+B,UAAY,KAAK,MAAQ,WAAW,SAAW,GAAG,MAAQ,GAAG,eAAe,IAAIN,MAAM,CAACC,MAAOX,EAAIiB,QAAgB,SAAEL,SAAS,SAAUC,GAAMb,EAAIkB,KAAKlB,EAAIiB,QAAS,WAAYJ,IAAME,WAAW,uBAAuB,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,CAAC,SAAUS,GAAK,QAASA,GAAK,0BAA4B,UAAY,KAAK,MAAQ,QAAQ,SAAW,GAAG,MAAQ,GAAG,eAAe,IAAIN,MAAM,CAACC,MAAOX,EAAIiB,QAAa,MAAEL,SAAS,SAAUC,GAAMb,EAAIkB,KAAKlB,EAAIiB,QAAS,QAASJ,IAAME,WAAW,oBAAoB,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,CAAC,SAAUS,GAAK,QAASA,GAAK,6BAA+B,UAAY,KAAK,MAAQ,WAAW,SAAW,GAAG,MAAQ,GAAG,eAAe,IAAIN,MAAM,CAACC,MAAOX,EAAIiB,QAAgB,SAAEL,SAAS,SAAUC,GAAMb,EAAIkB,KAAKlB,EAAIiB,QAAS,WAAYJ,IAAME,WAAW,uBAAuB,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,MAAM,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,gBAAgB,GAAG,YAAY,MAAM,MAAQP,EAAImB,MAAM,MAAQ,MAAM,MAAQ,GAAG,MAAQ,CAAC,SAAUH,GAAK,QAASA,GAAK,8BAAgCN,MAAM,CAACC,MAAOX,EAAO,IAAEY,SAAS,SAAUC,GAAMb,EAAIoB,IAAIP,GAAKE,WAAW,UAAU,IAAI,IAAI,IAAI,GAAGX,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACH,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,UAAU,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAIuB,aAAa,CAACvB,EAAIQ,GAAG,aAAaJ,EAAG,QAAQ,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,QAAQ,KAAO,IAAIc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAIwB,QAAQC,KAAK,CAAEC,KAAM,oBAAqB,CAAC1B,EAAIQ,GAAG,eAAe,IAAI,IAChhHmB,EAAkB,G,oFCoHtB,GACEC,OAAQ,CAAC,EAAX,MACEF,KAAM,eACNnC,KAHF,WAII,MAAO,CACLsC,aAAc,KACdC,aAAc,KACdV,IAAK,KACLW,KAAM,SACNC,SAAU,GACVC,SAAU,KACVC,WAAY,KACZC,gBAAiB,GACjBhB,MAAO,GACPF,QAAS,CACPmB,eAAgB,GAChBC,SAAU,GACVC,OAAQ,GACRC,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,SAAU,GACVX,KAAM,EACNE,SAAU,MAEZU,YAAa,CACnB,YAAQ,QAAR,6BACA,YAAQ,OACR,gEAEMC,eAAgB,CACtB,YAAQ,QAAR,gCACA,YAAQ,OACR,mEAEM9B,WAAW,IAGf+B,QAtCF,WAuCI5C,KAAK6B,aAAe,IAAI,EAA5B,KACI7B,KAAK4B,aAAe,IAAI,EAA5B,MAEEiB,QA1CF,WA2CQ7C,KAAK8C,OAAOC,OAAOpD,IACrBK,KAAKgC,SAAWhC,KAAKgD,SAASrD,GAC9BK,KAAKiC,WAAajC,KAAKiD,WAAWtD,GAClCK,KAAKkD,sBAELlD,KAAKgC,SAAWhC,KAAKgD,SAASrD,GAC9BK,KAAKiC,WAAajC,KAAKiD,WAAWtD,GAClCK,KAAKgB,QAAQgB,SAAWhC,KAAKgC,UAE/BhC,KAAKmD,kBAEPC,QAAS,OAAX,OAAW,CAAX,kBACA,oBADA,IAEI,kBAFJ,WAEA,qKACA,cADA,SAIA,eACA,gCACA,kBACA,qBACA,yCACA,iCAEA,mBACA,kBAZA,uBAeA,eACA,cACA,kBACA,yBAEA,mBACA,kBArBA,8CAwBID,eA1BJ,WA0BA,WACA,GACQnB,SAAUhC,KAAKgD,SAASrD,GACxBsC,WAAYjC,KAAKiD,WAAWtD,GAC5B0D,MAAOrD,KAAKsD,UAEdtD,KAAK6B,aACX,eACA,kBACQ,EAAR,qBAEA,uBAEI,QAvCJ,WAuCA,kKACA,4BADA,gCAIA,eACA,sBACA,kBACA,sBAEA,kBACA,YAVA,uBAaA,eACA,iBACA,aACA,sBAEA,qBACA,kBACA,YApBA,uBAuBA,eACA,eACA,aACA,kBAEA,iBACA,OACA,oCACA,YACA,iBAEA,4BACA,uBACA,wCACA,QAEA,kBACA,YAxCA,iCA2CA,GA3CA,gDAoGE0B,SAAU,OAAZ,OAAY,CAAZ,GACA,4CCvTwW,I,yGCOpWC,EAAY,eACd,EACA1D,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAA8B,EAAiB,QAUhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,OAAA,KAAKC,QAAA,KAAMC,OAAA,KAAKC,UAAA,KAAQC,aAAA,Q,kHC3B9CC,EAAU,CACrBX,QAAS,CACPY,aADO,SACMC,GACX,OAAOC,OAAMC,QAAQC,sBAAsBC,MAAK,SAACC,GAC/C,OAAOA,GAAQL,MAGnBM,eANO,WA0BL,IAnBA,IAAIC,EAAc,IAAIC,MACpB,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAEEC,EAAkB,IACbC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIC,EAAmBJ,EAAYK,OAAS,EACxCC,EAAQC,KAAKC,SAAWJ,EAC5BE,EAAQC,KAAKE,MAAMH,GACnB,IAAII,EAAWC,SAAS,GAAKL,EAC7BJ,GAAmBF,EAAYU,GAEjC,OAAOR,GAETU,aAnCO,WAoCL,OACEL,KAAKC,SACFK,SAAS,IACTC,UAAU,EAAG,IAChBP,KAAKC,SACFK,SAAS,IACTC,UAAU,EAAG","file":"js/chunk-cf1878a6.eadd583b.js","sourcesContent":["import axios from \"axios\";\r\nexport default class RolesService {\r\n  getAllRoles(data) {\r\n    return axios.post(process.env.VUE_APP_API_PUBLIC + \"roles/all/\", data);\r\n  }\r\n  createRol(data) {\r\n    return axios.post(process.env.VUE_APP_API_PUBLIC + \"roles/create/\", data);\r\n  }\r\n  createRolPermiso(data) {\r\n    return axios.post(process.env.VUE_APP_API_PUBLIC + \"roles/permisos/\", data);\r\n  }\r\n  editRol(data) {\r\n    return axios.put(process.env.VUE_APP_API_PUBLIC + \"roles/\", data);\r\n  }\r\n  getRolById(id) {\r\n    return axios.get(process.env.VUE_APP_API_PUBLIC + \"roles/\" + id);\r\n  }\r\n  deleteRol(id) {\r\n    return axios.delete(process.env.VUE_APP_API_PUBLIC + \"roles/\" + id);\r\n  }\r\n  getAllPermisos() {\r\n    return axios.get(process.env.VUE_APP_API_PUBLIC + \"permisos/\");\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',[_c('v-col',{staticClass:\"text-h5\",attrs:{\"cols\":\"12\"}},[_vm._v(\" Creación de usuarios \"),_c('hr')]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-form',{ref:\"formUser\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.validUser),callback:function ($$v) {_vm.validUser=$$v},expression:\"validUser\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"rules\":[function (v) { return !!v || 'La identificación es requerida'; }],\"maxlength\":\"30\",\"label\":\"Identificación\",\"required\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.usuario.identificacion),callback:function ($$v) {_vm.$set(_vm.usuario, \"identificacion\", $$v)},expression:\"usuario.identificacion\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"rules\":[function (v) { return !!v || 'El username es requerido'; }],\"maxlength\":\"30\",\"label\":\"Username\",\"required\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.usuario.username),callback:function ($$v) {_vm.$set(_vm.usuario, \"username\", $$v)},expression:\"usuario.username\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"rules\":[function (v) { return !!v || 'El nombre de usuario es requerido'; }],\"maxlength\":\"30\",\"label\":\"Nombre\",\"required\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.usuario.nombre),callback:function ($$v) {_vm.$set(_vm.usuario, \"nombre\", $$v)},expression:\"usuario.nombre\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"rules\":[function (v) { return !!v || 'Los apellidos son requerido'; }],\"maxlength\":\"30\",\"label\":\"Apellidos\",\"required\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.usuario.apellidos),callback:function ($$v) {_vm.$set(_vm.usuario, \"apellidos\", $$v)},expression:\"usuario.apellidos\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"rules\":[function (v) { return !!v || 'El teléfono es requerido'; }],\"maxlength\":\"30\",\"label\":\"Telefono\",\"required\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.usuario.telefono),callback:function ($$v) {_vm.$set(_vm.usuario, \"telefono\", $$v)},expression:\"usuario.telefono\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"rules\":[function (v) { return !!v || 'El email es requerido'; }],\"maxlength\":\"30\",\"label\":\"Email\",\"required\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.usuario.email),callback:function ($$v) {_vm.$set(_vm.usuario, \"email\", $$v)},expression:\"usuario.email\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"rules\":[function (v) { return !!v || 'El password es requerido'; }],\"maxlength\":\"30\",\"label\":\"Password\",\"required\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.usuario.password),callback:function ($$v) {_vm.$set(_vm.usuario, \"password\", $$v)},expression:\"usuario.password\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"return-object\":\"\",\"item-text\":\"rol\",\"items\":_vm.roles,\"label\":\"Rol\",\"dense\":\"\",\"rules\":[function (v) { return !!v || 'El password es requerido'; }]},model:{value:(_vm.rol),callback:function ($$v) {_vm.rol=$$v},expression:\"rol\"}})],1)],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('v-btn',{staticClass:\"ml-3\",attrs:{\"color\":\"primary\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.guardar()}}},[_vm._v(\"Guardar\")]),_c('v-btn',{staticClass:\"ml-3\",attrs:{\"color\":\"error\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.$router.push({ name: 'UsuariosList' })}}},[_vm._v(\"Cancelar\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-row>\r\n    <v-col cols=\"12\" class=\"text-h5\">\r\n      Creación de usuarios\r\n      <hr />\r\n    </v-col>\r\n    <v-col cols=\"12\">\r\n      <v-form ref=\"formUser\" v-model=\"validUser\" lazy-validation>\r\n        <v-row>\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <v-text-field\r\n              v-model=\"usuario.identificacion\"\r\n              :rules=\"[v => !!v || 'La identificación es requerida']\"\r\n              maxlength=\"30\"\r\n              label=\"Identificación\"\r\n              required\r\n              dense\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <v-text-field\r\n              v-model=\"usuario.username\"\r\n              :rules=\"[v => !!v || 'El username es requerido']\"\r\n              maxlength=\"30\"\r\n              label=\"Username\"\r\n              required\r\n              dense\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <v-text-field\r\n              v-model=\"usuario.nombre\"\r\n              :rules=\"[v => !!v || 'El nombre de usuario es requerido']\"\r\n              maxlength=\"30\"\r\n              label=\"Nombre\"\r\n              required\r\n              dense\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <v-text-field\r\n              v-model=\"usuario.apellidos\"\r\n              :rules=\"[v => !!v || 'Los apellidos son requerido']\"\r\n              maxlength=\"30\"\r\n              label=\"Apellidos\"\r\n              required\r\n              dense\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <v-text-field\r\n              v-model=\"usuario.telefono\"\r\n              :rules=\"[v => !!v || 'El teléfono es requerido']\"\r\n              maxlength=\"30\"\r\n              label=\"Telefono\"\r\n              required\r\n              dense\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <v-text-field\r\n              v-model=\"usuario.email\"\r\n              :rules=\"[v => !!v || 'El email es requerido']\"\r\n              maxlength=\"30\"\r\n              label=\"Email\"\r\n              required\r\n              dense\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <v-text-field\r\n              v-model=\"usuario.password\"\r\n              :rules=\"[v => !!v || 'El password es requerido']\"\r\n              maxlength=\"30\"\r\n              label=\"Password\"\r\n              required\r\n              dense\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <v-select\r\n              v-model=\"rol\"\r\n              return-object\r\n              item-text=\"rol\"\r\n              :items=\"roles\"\r\n              label=\"Rol\"\r\n              dense\r\n              :rules=\"[v => !!v || 'El password es requerido']\"\r\n            ></v-select>\r\n          </v-col>\r\n        </v-row>\r\n      </v-form>\r\n    </v-col>\r\n    <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n      <v-btn color=\"primary\" dark class=\"ml-3\" @click=\"guardar()\">Guardar</v-btn>\r\n      <v-btn\r\n        color=\"error\"\r\n        dark\r\n        class=\"ml-3\"\r\n        @click=\"$router.push({ name: 'UsuariosList' })\"\r\n      >Cancelar</v-btn>\r\n    </v-col>\r\n  </v-row>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations, mapGetters } from \"vuex\";\r\nimport { Helpers } from \"../../mixins/helpers\";\r\nimport RolesService from \"../../services/roles.service\";\r\nimport UsersService from \"../../services/users.service\";\r\nexport default {\r\n  mixins: [Helpers],\r\n  name: \"roles-create\",\r\n  data() {\r\n    return {\r\n      usersService: null,\r\n      rolesService: null,\r\n      rol: null,\r\n      type: \"create\",\r\n      permisos: [],\r\n      finca_id: null,\r\n      usuario_id: null,\r\n      permisoSelected: [],\r\n      roles: [],\r\n      usuario: {\r\n        identificacion: \"\",\r\n        username: \"\",\r\n        nombre: \"\",\r\n        apellidos: \"\",\r\n        telefono: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        type: 0,\r\n        finca_id: null,\r\n      },\r\n      nombreRules: [\r\n        (v) => !!v || \"El nombre es requerido\",\r\n        (v) =>\r\n          v.length <= 100 || \"El nombre debe tener menos de 100 caracteres\",\r\n      ],\r\n      direccionRules: [\r\n        (v) => !!v || \"La dirección es requerida\",\r\n        (v) =>\r\n          v.length <= 250 || \"La dirección debe tener menos de 250 caracteres\",\r\n      ],\r\n      validUser: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.rolesService = new RolesService();\r\n    this.usersService = new UsersService();\r\n  },\r\n  mounted() {\r\n    if (this.$route.params.id) {\r\n      this.finca_id = this.getFinca.id;\r\n      this.usuario_id = this.getUsuario.id;\r\n      this.recuperarDataUser();\r\n    } else {\r\n      this.finca_id = this.getFinca.id;\r\n      this.usuario_id = this.getUsuario.id;\r\n      this.usuario.finca_id = this.finca_id;\r\n    }\r\n    this.recuperarRoles();\r\n  },\r\n  methods: {\r\n    ...mapMutations([]),\r\n    async recuperarDataUser() {\r\n      this.type = \"edit\";\r\n      let rol_id;\r\n      //si es edicion recuperar el usuarios\r\n      await this.usersService\r\n        .getUserById(this.$route.params.id)\r\n        .then((result) => {\r\n          rol_id = result.data.data.rol_id;\r\n          this.usuario = { ...result.data.data };\r\n          this.usuario.finca_id = this.finca_id;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n      //si es edicion recuperar el rol del usuario\r\n      await this.rolesService\r\n        .getRolById(rol_id)\r\n        .then((result) => {\r\n          this.rol = result.data.data.rol;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    recuperarRoles() {\r\n      let data = {\r\n        finca_id: this.getFinca.id,\r\n        usuario_id: this.getUsuario.id,\r\n        token: this.getToken,\r\n      };\r\n      this.rolesService\r\n        .getAllRoles(data)\r\n        .then((result) => {\r\n          this.roles = result.data.data;\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    async guardar() {\r\n      if (this.$refs.formUser.validate()) {\r\n        //usuario\r\n        let usuario_id;\r\n        await this.usersService\r\n          .createUser(this.usuario)\r\n          .then((response) => {\r\n            usuario_id = response.data.id_creado;\r\n          })\r\n          .catch(() => {\r\n            return false;\r\n          });\r\n        //finca-Usuario\r\n        await this.usersService\r\n          .createFincaUser({\r\n            usuario_id,\r\n            finca_id: this.finca_id,\r\n          })\r\n          .then(() => {})\r\n          .catch(() => {\r\n            return false;\r\n          });\r\n        //rol-Usuario\r\n        await this.usersService\r\n          .createRolUser({\r\n            usuario_id,\r\n            rol_id: this.rol.id,\r\n          })\r\n          .then(() => {\r\n            let payload = {\r\n              text: \"Registro creado exitosamente\",\r\n              snackbar: true,\r\n              color: \"success\",\r\n            };\r\n            this.$emit(\"mostrarMensaje\", payload);\r\n            setTimeout(() => {\r\n              this.$router.push({ name: \"UsuariosList\" });\r\n            }, 2000);\r\n          })\r\n          .catch(() => {\r\n            return false;\r\n          });\r\n      }\r\n      return false;\r\n      /* if (this.$refs.formUser.validate()) {\r\n        //usuario\r\n        this.usuario[\"finca_id\"] = this.finca_id;\r\n        let usuario_id;\r\n        await this.usersService\r\n          .createUser(this.usuario)\r\n          .then((response) => {\r\n            usuario_id = response.data.id_creado;\r\n          })\r\n          .catch(() => {\r\n            return false;\r\n          });\r\n        //finca-Usuario\r\n        await this.usersService\r\n          .createFincaUser({\r\n            usuario_id,\r\n            finca_id: this.finca_id,\r\n          })\r\n          .then(() => {})\r\n          .catch(() => {\r\n            return false;\r\n          });\r\n        //rol-Usuario\r\n        await this.usersService\r\n          .createRolUser({\r\n            usuario_id,\r\n            rol_id: this.rol.id,\r\n          })\r\n          .then(() => {\r\n            let payload = {\r\n              text: \"Registro creado exitosamente\",\r\n              snackbar: true,\r\n              color: \"success\",\r\n            };\r\n            this.$emit(\"mostrarMensaje\", payload);\r\n            setTimeout(() => {\r\n              this.$router.push({ name: \"UsuariosList\" });\r\n            }, 2000);\r\n          })\r\n          .catch(() => {\r\n            return false;\r\n          });\r\n      } else {\r\n        //hace rpeticion al servicio de edicion\r\n        let payload = {\r\n          text: \"Registro editado exitosamente\",\r\n          snackbar: true,\r\n          color: \"success\",\r\n        };\r\n        this.$emit(\"mostrarMensaje\", payload);\r\n        setTimeout(() => {\r\n          this.$router.push({ name: \"UsuariosList\" });\r\n        }, 2000);\r\n      } */\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"getFinca\", \"getUsuario\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usuarios-create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usuarios-create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./usuarios-create.vue?vue&type=template&id=4889f9b2&scoped=true&\"\nimport script from \"./usuarios-create.vue?vue&type=script&lang=js&\"\nexport * from \"./usuarios-create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4889f9b2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VForm,VRow,VSelect,VTextField})\n","import { store } from \"../store/store\";\r\nexport const Helpers = {\r\n  methods: {\r\n    tienePermiso(idPermiso) {\r\n      return store.getters.getPermisosDetallados.find((item) => {\r\n        return item == idPermiso;\r\n      });\r\n    },\r\n    colorAleatorio() {\r\n      var hexadecimal = new Array(\r\n        \"0\",\r\n        \"1\",\r\n        \"2\",\r\n        \"3\",\r\n        \"4\",\r\n        \"5\",\r\n        \"6\",\r\n        \"7\",\r\n        \"8\",\r\n        \"9\",\r\n        \"A\",\r\n        \"B\",\r\n        \"C\",\r\n        \"D\",\r\n        \"E\",\r\n        \"F\"\r\n      );\r\n      var color_aleatorio = \"#\";\r\n      for (let i = 0; i < 6; i++) {\r\n        var numPosibilidades = hexadecimal.length - 0;\r\n        var aleat = Math.random() * numPosibilidades;\r\n        aleat = Math.floor(aleat);\r\n        var posarray = parseInt(0) + aleat;\r\n        color_aleatorio += hexadecimal[posarray];\r\n      }\r\n      return color_aleatorio;\r\n    },\r\n    generarToken() {\r\n      return (\r\n        Math.random()\r\n          .toString(36)\r\n          .substring(2, 13) +\r\n        Math.random()\r\n          .toString(36)\r\n          .substring(2, 13)\r\n      );\r\n    },\r\n  },\r\n};\r\n"],"sourceRoot":""}