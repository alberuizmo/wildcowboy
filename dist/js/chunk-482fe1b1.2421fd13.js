(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-482fe1b1"],{3597:function(n,e,i){"use strict";i.d(e,"a",(function(){return s}));var a=i("d4ec"),t=i("bee2"),o=i("bc3a"),c=i.n(o),s=function(){function n(){Object(a["a"])(this,n)}return Object(t["a"])(n,[{key:"getAllAnimales",value:function(n){return c.a.post("https://veterinariaapi.herokuapp.com/api/animales/all/",n)}},{key:"createAnimal",value:function(n){return c.a.post("https://veterinariaapi.herokuapp.com/api/animales/",n)}},{key:"editAnimal",value:function(n){return c.a.put("https://veterinariaapi.herokuapp.com/api/animales/",n)}},{key:"getAnimalById",value:function(n){return c.a.get("https://veterinariaapi.herokuapp.com/api/animales/"+n)}},{key:"deleteAnimal",value:function(n){return c.a.delete("https://veterinariaapi.herokuapp.com/api/animales/"+n)}}]),n}()},a25c:function(n,e,i){"use strict";i.r(e);var a=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("v-row",[i("v-col",{staticClass:"text-h5",attrs:{cols:"12"}},[n._v(" Creación de inseminaciones "),i("hr")]),i("v-col",{attrs:{cols:"12"}},[i("v-row",{staticClass:"pl-3"},[i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-autocomplete",{attrs:{items:n.animales.filter((function(n){return 0==n.sexo})),filter:n.customFilter,label:"Animal Inseminado","item-value":"id"},scopedSlots:n._u([{key:"item",fn:function(e){var i=e.item;return[n._v(n._s(i.identificacion)+" - "+n._s(i.nombre))]}},{key:"selection",fn:function(e){var i=e.item;return[n._v(n._s(i.identificacion)+" - "+n._s(i.nombre))]}}]),model:{value:n.inseminacionData.animal_id,callback:function(e){n.$set(n.inseminacionData,"animal_id",e)},expression:"inseminacionData.animal_id"}})],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-autocomplete",{attrs:{items:n.animales.filter((function(n){return 1==n.sexo})),filter:n.customFilterDonante,label:"Animal Donante","item-value":"id"},scopedSlots:n._u([{key:"item",fn:function(e){var i=e.item;return[n._v(n._s(i.identificacion)+" - "+n._s(i.nombre))]}},{key:"selection",fn:function(e){var i=e.item;return[n._v(n._s(i.identificacion)+" - "+n._s(i.nombre))]}}]),model:{value:n.inseminacionData.animal_donante_id,callback:function(e){n.$set(n.inseminacionData,"animal_donante_id",e)},expression:"inseminacionData.animal_donante_id"}})],1),void 0===n.inseminacionData.animal_donante_id||null===n.inseminacionData.animal_donante_id?i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-text-field",{attrs:{label:"Identificación del Donante",hint:"Identificación del donante","persistent-hint":""},model:{value:n.inseminacionData.donante_identificacion,callback:function(e){n.$set(n.inseminacionData,"donante_identificacion",e)},expression:"inseminacionData.donante_identificacion"}})],1):n._e(),void 0===n.inseminacionData.animal_donante_id||null===n.inseminacionData.animal_donante_id?i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-text-field",{attrs:{label:"Nombre del Donante",hint:"Nombre del donante","persistent-hint":""},model:{value:n.inseminacionData.donante_nombre,callback:function(e){n.$set(n.inseminacionData,"donante_nombre",e)},expression:"inseminacionData.donante_nombre"}})],1):n._e(),i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:n._u([{key:"activator",fn:function(e){var a=e.on,t=e.attrs;return[i("v-text-field",n._g(n._b({attrs:{label:"Fecha","prepend-icon":"event",readonly:"",hint:"Seleccione la fecha","persistent-hint":""},model:{value:n.inseminacionData.fecha,callback:function(e){n.$set(n.inseminacionData,"fecha",e)},expression:"inseminacionData.fecha"}},"v-text-field",t,!1),a))]}}]),model:{value:n.menu,callback:function(e){n.menu=e},expression:"menu"}},[i("v-date-picker",{attrs:{max:n.maxDate,"no-title":""},on:{input:function(e){n.menu=!1}},model:{value:n.inseminacionData.fecha,callback:function(e){n.$set(n.inseminacionData,"fecha",e)},expression:"inseminacionData.fecha"}})],1)],1),i("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[i("v-text-field",{attrs:{label:"Observaciones",hint:"Escribe tus observaciones","persistent-hint":""},model:{value:n.inseminacionData.observaciones,callback:function(e){n.$set(n.inseminacionData,"observaciones",e)},expression:"inseminacionData.observaciones"}})],1)],1)],1),i("v-col",{attrs:{cols:"12"}},[i("v-btn",{staticClass:"ml-3",attrs:{color:"primary",dark:""},on:{click:function(e){return n.guardar()}}},[n._v("Guardar")]),i("v-btn",{staticClass:"ml-3",attrs:{color:"error",dark:""},on:{click:function(e){return n.$router.push({name:"InseminacionesList"})}}},[n._v("Cancelar")])],1)],1)},t=[],o=(i("4de4"),i("c975"),i("fb6a"),i("96cf"),i("1da1")),c=i("5530"),s=i("2f62"),r=i("3597"),l=i("b83a"),m={name:"inseminaciones-create",data:function(){return{maxDate:(new Date).toISOString().slice(0,10),animalesService:null,inseminacionesService:null,type:"create",inseminacionData:{id:0,animal_id:"",animal_donante_id:null,donante_identificacion:null,donante_nombre:null,fecha:null,observaciones:"",finca_id:null,usuario_id:null},menu:!1,animales:[]}},created:function(){this.animalesService=new r["a"],this.inseminacionesService=new l["a"]},mounted:function(){var n=this;this.obtenerAnimales(),this.$route.params.id?(this.type="edit",this.inseminacionesService.getInseminacionById(this.$route.params.id).then((function(e){n.inseminacionData=e.data.data,n.inseminacionData["id"]=n.$route.params.id,n.inseminacionData["finca_id"]=n.getFinca.id,n.inseminacionData["usuario_id"]=n.getUsuario.id,n.inseminacionData["token"]=n.getToken})).catch((function(n){console.log(n)}))):(this.inseminacionData["finca_id"]=this.getFinca.id,this.inseminacionData["usuario_id"]=this.getUsuario.id,this.inseminacionData["token"]=this.getToken)},methods:Object(c["a"])(Object(c["a"])({},Object(s["c"])([])),{},{obtenerAnimales:function(){var n=this,e={finca_id:this.getFinca.id,usuario_id:this.getUsuario.id,token:this.getToken};this.animalesService.getAllAnimales(e).then((function(e){n.animales=e.data.data})).catch((function(){}))},guardar:function(){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=null,void 0!=n.inseminacionData.animal_donante_id?(a=n.animales.filter((function(e){return e.id==n.inseminacionData.animal_donante_id})),console.log(a),n.inseminacionData.donante_nombre=a[0].nombre,n.inseminacionData.donante_identificacion=a[0].identificacion):n.inseminacionData.animal_donante_id=null,"create"!=n.type){e.next=7;break}return e.next=5,n.inseminacionesService.createInseminacion(n.inseminacionData).then((function(){i={text:"Registro guardado exitosamente",snackbar:!0,color:"success"},n.$emit("mostrarMensaje",i),n.$router.push({name:"InseminacionesList"})})).catch((function(n){console.log(n)}));case 5:e.next=8;break;case 7:i={text:"Registro editado exitosamente",snackbar:!0,color:"success"};case 8:case"end":return e.stop()}}),e)})))()},customFilter:function(n,e){var i=n.nombre.toLowerCase(),a=n.identificacion.toLowerCase(),t=e.toLowerCase();return i.indexOf(t)>-1||a.indexOf(t)>-1},customFilterDonante:function(n,e){var i=n.nombre.toLowerCase(),a=n.identificacion.toLowerCase(),t=e.toLowerCase();return i.indexOf(t)>-1||a.indexOf(t)>-1}}),computed:Object(c["a"])({},Object(s["b"])(["getFinca","getUsuario","getToken"]))},u=m,d=i("2877"),f=i("6544"),p=i.n(f),v=i("c6a6"),h=i("8336"),_=i("62ad"),b=i("2e4b"),k=i("e449"),D=i("0fd9"),x=i("8654"),g=Object(d["a"])(u,a,t,!1,null,"8c543ace",null);e["default"]=g.exports;p()(g,{VAutocomplete:v["a"],VBtn:h["a"],VCol:_["a"],VDatePicker:b["a"],VMenu:k["a"],VRow:D["a"],VTextField:x["a"]})},b83a:function(n,e,i){"use strict";i.d(e,"a",(function(){return s}));var a=i("d4ec"),t=i("bee2"),o=i("bc3a"),c=i.n(o),s=function(){function n(){Object(a["a"])(this,n)}return Object(t["a"])(n,[{key:"getAllinseminaciones",value:function(n){return c.a.post("https://veterinariaapi.herokuapp.com/api/inseminaciones/all/",n)}},{key:"createInseminacion",value:function(n){return c.a.post("https://veterinariaapi.herokuapp.com/api/inseminaciones/",n)}},{key:"getInseminacionById",value:function(n){return c.a.get("https://veterinariaapi.herokuapp.com/api/inseminaciones/"+n)}},{key:"editInseminacion",value:function(n){return c.a.put("https://veterinariaapi.herokuapp.com/api/inseminaciones/",n)}},{key:"deleteInseminacion",value:function(n){return c.a.delete("https://veterinariaapi.herokuapp.com/api/inseminaciones/"+n)}}]),n}()}}]);
//# sourceMappingURL=chunk-482fe1b1.2421fd13.js.map